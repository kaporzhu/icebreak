{% extends "page.html" %}
{% load staticfiles handsome_template_tags %}

{% block title %}手机号快速登录{% endblock %}

{% block extracss_compressed %}
<link rel="stylesheet" href="{% static 'css/account.css' %}">
{% endblock %}

{% block extrajs_compress %}
<script src="{% static 'js/account.js' %}"></script>
{% endblock %}

{% block content %}
<div class="container body">
    <div class="row">
        <div class="col-md-4">
            <form id="login-form" method="post" class="form-horizontal well well-shadow" role="form">
                <h4>手机号快速登录</h4>
                <hr />
                {% csrf_token %}
                <div class="form-group {% if form.phone.errors %}has-error{% endif %}">
                    <span class="col-md-3 control-label">{{ form.phone.label }}: </span>
                    <div class="col-md-8">
                        {{ form.phone|add_attrs:"class:form-control input-sm" }}
                    </div>
                </div>
                <div class="form-group {% if form.code.errors %}has-error{% endif %}">
                    <span class="col-md-3 control-label">{{ form.code.label }}: </span>
                    <div class="col-md-4">
                        {{ form.code|add_attrs:"class:form-control input-sm" }}
                    </div>
                    <div class="col-md-3">
                        <button id="send-validation-code-btn" data-url="{% url 'accounts:send_validation_code' %}" type="button" class="btn btn-default btn-sm">发送验证码</button>
                    </div>
                </div>

                {% if form.non_field_errors %}
                <div class="form-group">
                    <div class="col-md-9 col-md-offset-3">
                        <p class="text-danger">{{ form.non_field_errors.0 }}</p>
                    </div>
                </div>
                {% endif %}

                <div class="form-group">
                    <div class="col-md-8 col-md-offset-3">
                        <input class="btn btn-primary" type="submit" value="登录" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
